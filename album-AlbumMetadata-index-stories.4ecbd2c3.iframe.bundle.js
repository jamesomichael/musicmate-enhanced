(self.webpackChunkmusicmate_ts=self.webpackChunkmusicmate_ts||[]).push([[494],{"./components/album/AlbumMetadata/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./components/album/AlbumMetadata/index.tsx"),_redux_StoreProvider__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./redux/StoreProvider.tsx");const __WEBPACK_DEFAULT_EXPORT__={title:"Album/AlbumMetadata",component:___WEBPACK_IMPORTED_MODULE_1__.A,args:{releaseDate:"2025-10-01",releaseDatePrecision:"day",copyrightNotices:[{type:"C",text:"James Michael, 2025"},{type:"P",text:"James Michael, 2025"}]},parameters:{layout:"centered"},decorators:[Story=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_redux_StoreProvider__WEBPACK_IMPORTED_MODULE_2__.A,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Story,{})})]},Default={},__namedExportsOrder=["Default"]},"./components/album/AlbumMetadata/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_hooks_useFormattedDate__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./hooks/useFormattedDate.ts"));const AlbumMetadata=({releaseDate,releaseDatePrecision,copyrightNotices=[]})=>{const formattedReleaseDate=(0,_hooks_useFormattedDate__WEBPACK_IMPORTED_MODULE_2__.A)(releaseDate,releaseDatePrecision);return releaseDate||0!==copyrightNotices.length?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex flex-col px-4 md:px-8 pb-8",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"font-funnel text-neutral-400 text-sm",children:formattedReleaseDate}),null==copyrightNotices?void 0:copyrightNotices.map(({type:noticeType,text:noticeText},idx)=>{return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"font-funnel text-xs text-neutral-400",children:(type=noticeType,text=noticeText,"C"!==type||text.includes("©")?"P"!==type||text.includes("℗")?text:`℗ ${text}`:`© ${text}`)},`${idx}_${noticeType}`);var type,text})]}):null},__WEBPACK_DEFAULT_EXPORT__=AlbumMetadata;AlbumMetadata.__docgenInfo={description:"",methods:[],displayName:"AlbumMetadata",props:{releaseDate:{required:!1,tsType:{name:"string"},description:""},releaseDatePrecision:{required:!1,tsType:{name:"union",raw:"'year' | 'month' | 'day'",elements:[{name:"literal",value:"'year'"},{name:"literal",value:"'month'"},{name:"literal",value:"'day'"}]},description:""},copyrightNotices:{required:!1,tsType:{name:"Array",elements:[{name:"SpotifyCopyright"}],raw:"SpotifyCopyright[]"},description:"",defaultValue:{value:"[]",computed:!1}}}}},"./hooks/useFormattedDate.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),dayjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/dayjs/dayjs.min.js"),dayjs__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);const __WEBPACK_DEFAULT_EXPORT__=(date,precision)=>(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{if(date&&precision)return"day"===precision?dayjs__WEBPACK_IMPORTED_MODULE_1___default()(date).format("D MMMM YYYY"):dayjs__WEBPACK_IMPORTED_MODULE_1___default()(date).year()},[date,precision])},"./node_modules/dayjs/dayjs.min.js":function(module){module.exports=function(){"use strict";var t=1e3,e=6e4,n=36e5,r="millisecond",i="second",s="minute",u="hour",a="day",o="week",c="month",f="quarter",h="year",d="date",l="Invalid Date",$=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+m(r,2,"0")+":"+m(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",D={};D[g]=M;var p="$isDayjsObject",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if("string"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split("-");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v="set"+(this.$u?"UTC":"");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+"Hours",0);case u:return $(v+"Minutes",1);case s:return $(v+"Seconds",2);case i:return $(v+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f="set"+(this.$u?"UTC":""),l=(n={},n[a]=f+"Date",n[d]=f+"Date",n[c]=f+"Month",n[h]=f+"FullYear",n[u]=f+"Hours",n[s]=f+"Minutes",n[i]=f+"Seconds",n[r]=f+"Milliseconds",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,"0")},$=f||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(y,function(t,r){return r||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return b.s(e.$y,4,"0");case"M":return a+1;case"MM":return b.s(a+1,2,"0");case"MMM":return h(n.monthsShort,a,c,3);case"MMMM":return h(c,a);case"D":return e.$D;case"DD":return b.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return h(n.weekdaysMin,e.$W,o,2);case"ddd":return h(n.weekdaysShort,e.$W,o,3);case"dddd":return o[e.$W];case"H":return String(s);case"HH":return b.s(s,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return $(s,u,!0);case"A":return $(s,u,!1);case"m":return String(u);case"mm":return b.s(u,2,"0");case"s":return String(e.$s);case"ss":return b.s(e.$s,2,"0");case"SSS":return b.s(e.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")})},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[["$ms",r],["$s",i],["$m",s],["$H",u],["$W",a],["$M",c],["$y",h],["$D",d]].forEach(function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}()},"./redux/StoreProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>StoreProvider});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),react_redux=__webpack_require__("./node_modules/react-redux/dist/react-redux.mjs"),redux=__webpack_require__("./node_modules/redux/dist/redux.mjs"),redux_toolkit_modern=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.modern.mjs"),authSlice=__webpack_require__("./redux/slices/authSlice.ts");const initialState={displayName:null,country:null,email:null,explicitContent:null,externalUrls:null,followers:null,href:null,id:null,images:null,product:null,type:null,uri:null},userSlice=(0,redux_toolkit_modern.Z0)({name:"user",initialState,reducers:{setUser(state,action){state.displayName=action.payload.display_name,state.country=action.payload.country,state.email=action.payload.email,state.explicitContent=action.payload.explicit_content,state.externalUrls=action.payload.external_urls,state.followers=action.payload.followers,state.href=action.payload.href,state.id=action.payload.id,state.images=action.payload.images,state.product=action.payload.product,state.type=action.payload.type,state.uri=action.payload.uri}},extraReducers:builder=>{builder.addCase(authSlice.je.fulfilled,()=>initialState)}}),{setUser}=userSlice.actions,slices_userSlice=userSlice.reducer;var librarySlice=__webpack_require__("./redux/slices/librarySlice.ts"),axios=__webpack_require__("./node_modules/axios/lib/axios.js");const fetchCategories=(0,redux_toolkit_modern.zD)("categories/fetchCategories",async()=>(await axios.A.get("/api/categories")).data),slices_categoriesSlice=(0,redux_toolkit_modern.Z0)({name:"categories",initialState:{isLoading:!1,hasFetched:!1,categories:[]},reducers:{},extraReducers:builder=>{builder.addCase(fetchCategories.pending,state=>{state.isLoading=!0}),builder.addCase(fetchCategories.fulfilled,(state,action)=>{state.categories=action.payload,state.hasFetched=!0,state.isLoading=!1}),builder.addCase(fetchCategories.rejected,state=>{state.categories=[],state.hasFetched=!0,state.isLoading=!1})}}).reducer;var playerSlice=__webpack_require__("./redux/slices/playerSlice.ts");const reducer=(0,redux.HY)({auth:authSlice.Ay,user:slices_userSlice,library:librarySlice.Ay,categories:slices_categoriesSlice,player:playerSlice.Ay}),makeStore=preloadedState=>(0,redux_toolkit_modern.U1)({reducer,preloadedState});function StoreProvider({children,preloadedState}){const storeRef=(0,react.useRef)(null);return storeRef.current||(storeRef.current=makeStore(preloadedState)),(0,jsx_runtime.jsx)(react_redux.Kq,{store:storeRef.current,children})}StoreProvider.__docgenInfo={description:"",methods:[],displayName:"StoreProvider",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},preloadedState:{required:!1,tsType:{name:"Partial",elements:[{name:"ReturnType",elements:[{name:"reducer"}],raw:"ReturnType<typeof reducer>"}],raw:"Partial<RootState>"},description:""}}}},"./redux/slices/authSlice.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,je:()=>logOut});var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.modern.mjs"),axios__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/axios/lib/axios.js");const logOut=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.zD)("auth/logOut",async()=>{await axios__WEBPACK_IMPORTED_MODULE_1__.A.post("/api/logout")}),authSlice=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.Z0)({name:"auth",initialState:{isAuthorised:!1},reducers:{setIsAuthorised(state,action){state.isAuthorised=action.payload}},extraReducers:builder=>{builder.addCase(logOut.fulfilled,state=>{state.isAuthorised=!1})}}),{setIsAuthorised}=authSlice.actions,__WEBPACK_DEFAULT_EXPORT__=authSlice.reducer},"./redux/slices/librarySlice.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,J5:()=>followArtist,i8:()=>unfollowArtist,pA:()=>fetchFollowedArtists});var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.modern.mjs"),axios__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/axios/lib/axios.js");const fetchUserPlaylists=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.zD)("library/fetchUserPlaylists",async({offset=0,limit=50})=>(await axios__WEBPACK_IMPORTED_MODULE_1__.A.get(`/api/library/playlists?offset=${offset}&limit=${limit}`)).data),fetchUserAlbums=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.zD)("library/fetchUserAlbums",async({offset=0,limit=50})=>(await axios__WEBPACK_IMPORTED_MODULE_1__.A.get(`/api/library/albums?offset=${offset}&limit=${limit}`)).data),fetchUserLikedSongs=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.zD)("library/fetchUserLikedSongs",async({offset=0,limit=50})=>(await axios__WEBPACK_IMPORTED_MODULE_1__.A.get(`/api/library/songs?offset=${offset}&limit=${limit}`)).data),fetchFollowedArtists=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.zD)("library/fetchFollowedArtists",async({limit=50})=>(await axios__WEBPACK_IMPORTED_MODULE_1__.A.get(`/api/library/artists?limit=${limit}`)).data),followArtist=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.zD)("library/followArtist",async id=>{await axios__WEBPACK_IMPORTED_MODULE_1__.A.put(`/api/library/artists/${id}`)}),unfollowArtist=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.zD)("library/unfollowArtist",async id=>(await axios__WEBPACK_IMPORTED_MODULE_1__.A.delete(`/api/library/artists/${id}`),id)),librarySlice=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.Z0)({name:"library",initialState:{panel:{activeTab:"playlists",tabs:[{type:"playlists",label:"Playlists"},{type:"albums",label:"Albums"},{type:"tracks",label:"Songs"},{type:"artists",label:"Artists"}]},playlists:{isLoading:!0,pagination:null,items:[{id:"liked-songs",name:"Liked Songs",images:[{url:"/liked-songs-300.jpg"}],isPinned:!0}]},albums:{isLoading:!0,pagination:null,items:[]},artists:{isLoading:!0,items:[]},likedSongs:{isLoading:!0,pagination:null,items:[]}},reducers:{setActiveTab:(state,action)=>{state.panel.activeTab=action.payload}},extraReducers:builder=>{builder.addCase(fetchUserPlaylists.rejected,state=>{state.playlists.isLoading=!1}),builder.addCase(fetchUserPlaylists.fulfilled,(state,action)=>{state.playlists.isLoading=!1,state.playlists.pagination={href:action.payload.href,limit:action.payload.limit,offset:action.payload.offset,next:action.payload.next,previous:action.payload.previous,total:action.payload.total},state.playlists.items=[...state.playlists.items,...action.payload.items]}),builder.addCase(fetchUserAlbums.rejected,state=>{state.albums.isLoading=!1}),builder.addCase(fetchUserAlbums.fulfilled,(state,action)=>{state.albums.isLoading=!1,state.albums.pagination={href:action.payload.href,limit:action.payload.limit,offset:action.payload.offset,next:action.payload.next,previous:action.payload.previous,total:action.payload.total},state.albums.items=[...state.albums.items,...action.payload.items]}),builder.addCase(fetchUserLikedSongs.rejected,state=>{state.likedSongs.isLoading=!1}),builder.addCase(fetchUserLikedSongs.fulfilled,(state,action)=>{state.likedSongs.isLoading=!1,state.likedSongs.pagination={href:action.payload.href,limit:action.payload.limit,offset:action.payload.offset,next:action.payload.next,previous:action.payload.previous,total:action.payload.total},state.likedSongs.items=[...state.likedSongs.items,...action.payload.items]}),builder.addCase(fetchFollowedArtists.rejected,state=>{state.artists.isLoading=!1}),builder.addCase(fetchFollowedArtists.fulfilled,(state,action)=>{state.artists.isLoading=!1,state.artists.items=action.payload.artists.items}),builder.addCase(unfollowArtist.fulfilled,(state,action)=>{state.artists.items=state.artists.items.filter(artist=>artist.id!==action.payload)})}}),{setActiveTab}=librarySlice.actions,__WEBPACK_DEFAULT_EXPORT__=librarySlice.reducer},"./redux/slices/playerSlice.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,Lv:()=>getNowPlaying,To:()=>fetchPlaybackState,U:()=>resume,ZH:()=>play,v7:()=>pause,zZ:()=>setShuffleState});var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.modern.mjs"),_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/reselect/dist/reselect.mjs"),axios__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/axios/lib/axios.js");const fetchPlaybackState=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.zD)("player/fetchPlaybackState",async()=>(await axios__WEBPACK_IMPORTED_MODULE_2__.A.get("/api/player/state")).data),play=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.zD)("player/play",async({deviceId,contextUri,offset})=>{await axios__WEBPACK_IMPORTED_MODULE_2__.A.put(`/api/player/play?device_id=${deviceId}`,{contextUri,...offset&&{offset}})}),pause=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.zD)("player/pause",async deviceId=>{await axios__WEBPACK_IMPORTED_MODULE_2__.A.put(`/api/player/pause?device_id=${deviceId}`)}),resume=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.zD)("player/resume",async deviceId=>{await axios__WEBPACK_IMPORTED_MODULE_2__.A.put(`/api/player/play?device_id=${deviceId}`)}),seek=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.zD)("player/seek",async position=>(await axios__WEBPACK_IMPORTED_MODULE_2__.A.put(`/api/player/seek?position=${position}`),position)),setShuffleState=((0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.zD)("player/skipToNext",async()=>{await axios__WEBPACK_IMPORTED_MODULE_2__.A.post("/api/player/next")}),(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.zD)("player/skipToPrevious",async()=>{await axios__WEBPACK_IMPORTED_MODULE_2__.A.post("/api/player/previous")}),(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.zD)("player/setShuffleState",async state=>(await axios__WEBPACK_IMPORTED_MODULE_2__.A.put(`/api/player/shuffle?state=${state}`),state))),setRepeatState=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.zD)("player/setRepeatState",async state=>(await axios__WEBPACK_IMPORTED_MODULE_2__.A.put(`/api/player/repeat?state=${state}`),state)),setVolume=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.zD)("player/setVolume",async volume=>(await axios__WEBPACK_IMPORTED_MODULE_2__.A.put(`/api/player/volume?value=${volume}`),volume)),playerSlice=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.Z0)({name:"player",initialState:{deviceId:null,isReady:!1,playbackState:null,isLoading:!1},reducers:{setDeviceId(state,action){state.deviceId=action.payload},setIsReady(state,action){state.isReady=action.payload},setPlaybackState(state,action){state.playbackState?(state.playbackState.item=action.payload.track,state.playbackState.progress_ms=action.payload.progress||0,state.playbackState.is_playing=action.payload.isPlaying,state.playbackState.timestamp=+new Date,state.playbackState.context=action.payload.context):state.playbackState={item:action.payload.track,device:{id:state.deviceId,is_active:!0},progress_ms:action.payload.progress||0,is_playing:action.payload.isPlaying,timestamp:+new Date,...action.payload.context&&{context:action.payload.context}}},setProgress(state,action){state.playbackState&&(state.playbackState.progress_ms=action.payload)}},extraReducers:builder=>{builder.addCase(fetchPlaybackState.pending,state=>{state.isLoading=!0}),builder.addCase(fetchPlaybackState.fulfilled,(state,action)=>{state.playbackState=action.payload,state.isLoading=!1}),builder.addCase(pause.fulfilled,state=>{state.playbackState&&(state.playbackState.is_playing=!1)}),builder.addCase(resume.fulfilled,state=>{state.playbackState&&(state.playbackState.is_playing=!0)}),builder.addCase(seek.fulfilled,(state,action)=>{state.playbackState&&(state.playbackState.progress_ms=action.payload)}),builder.addCase(setShuffleState.fulfilled,(state,action)=>{state.playbackState&&(state.playbackState.shuffle_state=action.payload)}),builder.addCase(setRepeatState.fulfilled,(state,action)=>{state.playbackState&&(state.playbackState.repeat_state=action.payload)}),builder.addCase(setVolume.fulfilled,(state,action)=>{state.playbackState&&(state.playbackState.device.volume_percent=action.payload)})}}),getNowPlaying=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__.Mz)([state=>state.player.deviceId,state=>state.player.playbackState],(deviceId,playbackState)=>playbackState?{isPlaying:playbackState.is_playing,isActive:playbackState.device.is_active,isExternal:playbackState.device.id!==deviceId,isPrivate:playbackState.device.is_private_session,isPodcast:"episode"===playbackState.currently_playing_type,device:playbackState.device,progress:playbackState.progress_ms,timestamp:playbackState.timestamp,item:playbackState.item,context:playbackState.context,repeatState:playbackState.repeat_state,shuffleState:playbackState.shuffle_state}:{isPlaying:!1}),{setDeviceId,setIsReady,setPlaybackState,setProgress}=playerSlice.actions,__WEBPACK_DEFAULT_EXPORT__=playerSlice.reducer}}]);